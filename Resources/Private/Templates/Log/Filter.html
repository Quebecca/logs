{namespace logs=VerteXVaaR\Logs\ViewHelpers}
<f:layout name="Backend"/>

<f:section name="LeftToolBar"></f:section>
<f:section name="RightToolBar"></f:section>
<f:section name="Welcome"></f:section>

<f:section name="Main">
	<h1><f:translate key="filter">filter</f:translate></h1>
	<f:form action="filter" object="{filter}" objectName="filter" style="margin-bottom:15px;">
		<fieldset class="form-section">
			<div class="row">
				<div class="form-group col-sm-3">
					<label for="tx_logs_filter_request_id"><f:translate key="filter.request_id">request id</f:translate></label>
					<f:form.textfield property="requestId" id="tx_logs_filter_request_id" class="form-control form-control-adapt"/>
				</div>
				<div class="form-group col-sm-3">
					<label for="tx_logs_filter_from_time"><f:translate key="filter.from_time">from time</f:translate></label>
					<f:form.textfield property="fromTime" id="tx_logs_filter_from_time" class="form-control form-control-adapt"/>
				</div>
				<div class="form-group col-sm-3">
					<label for="tx_logs_filter_to_time"><f:translate key="filter.to_time">to time</f:translate></label>
					<f:form.textfield property="toTime" id="tx_logs_filter_to_time" class="form-control form-control-adapt"/>
				</div>
				<div class="form-group col-sm-3">
					<label for="tx_logs_filter_minimum_severity"><f:translate key="filter.minimum_severity">minimum severity</f:translate></label>
					<f:form.select property="minimumSeverity" options="{filter.logLevels}" id="tx_logs_filter_minimum_severity" class="form-control form-control-adapt"/>
				</div>
			</div>
		</fieldset>
		<fieldset class="form-section">
			<div class="form-group">
				<f:form.submit value="{f:translate(key:'search',default:'search')}" class="form-control form-control-adapt"/>
			</div>
		</fieldset>
	</f:form>

	<h1><f:translate key="logs">logs</f:translate></h1>
	<table class="table">
		<thead>
			<tr>
				<th>requestId</th>
				<th>timeMicro</th>
				<th>component</th>
				<th>level</th>
				<th>message</th>
				<th>data</th>
			</tr>
		</thead>
		<f:for each="{logs}" as="log">
			<tr>
				<td>{log.requestId}</td>
				<td><logs:format.microtime microTime="{log.timeMicro}"/> ({log.timeMicro})</td>
				<td>{log.component}</td>
				<td>{log.level}</td>
				<td>{log.message}</td>
				<td>{log.data -> f:debug(inline:'true')}</td>
			</tr>
		</f:for>
	</table>
</f:section>
